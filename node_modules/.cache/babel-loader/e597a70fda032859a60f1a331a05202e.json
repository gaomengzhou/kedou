{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames4 = require('classnames');\n\nvar _classnames5 = _interopRequireDefault(_classnames4);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require('prop-types');\n\nvar PropTypes = _interopRequireWildcard(_propTypes);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _getLocale = require('../_util/getLocale');\n\nvar _PropsType = require('./PropsType');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction onNextFrame(cb) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(cb);\n  }\n\n  return window.setTimeout(cb, 1);\n}\n\nfunction clearNextFrameAction(nextFrameId) {\n  if (window.cancelAnimationFrame) {\n    window.cancelAnimationFrame(nextFrameId);\n  } else {\n    window.clearTimeout(nextFrameId);\n  }\n}\n\nvar SearchBar = function (_React$Component) {\n  (0, _inherits3['default'])(SearchBar, _React$Component);\n\n  function SearchBar(props) {\n    (0, _classCallCheck3['default'])(this, SearchBar);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).call(this, props));\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n\n      if (_this.props.onSubmit) {\n        _this.props.onSubmit(_this.state.value || '');\n      }\n\n      if (_this.inputRef) {\n        _this.inputRef.blur();\n      }\n    };\n\n    _this.onChange = function (e) {\n      if (!_this.state.focus) {\n        _this.setState({\n          focus: true\n        });\n      }\n\n      var value = e.target.value;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    _this.onFocus = function () {\n      _this.setState({\n        focus: true\n      });\n\n      _this.firstFocus = true;\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus();\n      }\n    };\n\n    _this.onBlur = function () {\n      _this.onBlurTimeout = onNextFrame(function () {\n        if (!_this.blurFromOnClear) {\n          if (document.activeElement !== _this.inputRef) {\n            _this.setState({\n              focus: false\n            });\n          }\n        }\n\n        _this.blurFromOnClear = false;\n      });\n\n      if (_this.props.onBlur) {\n        // fix autoFocus item blur with flash\n        setTimeout(function () {\n          // fix ios12 wechat browser click failure after input\n          if (document.body) {\n            document.body.scrollTop = document.body.scrollTop;\n          }\n        }, 100);\n\n        _this.props.onBlur();\n      }\n    };\n\n    _this.onClear = function () {\n      _this.doClear();\n    };\n\n    _this.doClear = function () {\n      var blurFromOnClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      _this.blurFromOnClear = blurFromOnClear;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: ''\n        });\n      }\n\n      if (_this.props.onClear) {\n        _this.props.onClear('');\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange('');\n      }\n\n      if (blurFromOnClear) {\n        _this.focus();\n      }\n    };\n\n    _this.onCancel = function () {\n      if (_this.props.onCancel) {\n        _this.props.onCancel(_this.state.value || '');\n      } else {\n        _this.doClear(false);\n      }\n    };\n\n    _this.focus = function () {\n      if (_this.inputRef) {\n        _this.inputRef.focus();\n      }\n    };\n\n    var value = void 0;\n\n    if ('value' in props) {\n      value = props.value || '';\n    } else if ('defaultValue' in props) {\n      value = props.defaultValue;\n    } else {\n      value = '';\n    }\n\n    _this.state = {\n      value: value,\n      focus: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(SearchBar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.rightBtnRef) {\n        var initBtn = window.getComputedStyle(this.rightBtnRef);\n        this.rightBtnInitMarginleft = initBtn.marginLeft;\n      }\n\n      this.componentDidUpdate();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.syntheticPhRef) {\n        if (this.inputContainerRef && this.inputContainerRef.className.indexOf(this.props.prefixCls + '-start') > -1) {\n          // 检测是否包含名为 ${this.props.prefixCls}-start 样式，生成动画\n          // offsetWidth 某些时候是向上取整，某些时候是向下取整，不能用\n          if (this.syntheticPhContainerRef) {\n            var realWidth = this.syntheticPhContainerRef.getBoundingClientRect().width; // 包含小数\n\n            this.syntheticPhRef.style.width = Math.ceil(realWidth) + 'px';\n          }\n\n          if (!this.props.showCancelButton && this.rightBtnRef) {\n            this.rightBtnRef.style.marginRight = '0';\n          }\n        } else {\n          this.syntheticPhRef.style.width = '100%';\n\n          if (!this.props.showCancelButton && this.rightBtnRef) {\n            this.rightBtnRef.style.marginRight = '-' + (this.rightBtnRef.offsetWidth + (this.rightBtnInitMarginleft != null ? parseInt(this.rightBtnInitMarginleft, 10) : 0)) + 'px';\n          }\n        }\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps && nextProps.value !== this.state.value) {\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.onBlurTimeout) {\n        clearNextFrameAction(this.onBlurTimeout);\n        this.onBlurTimeout = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames3,\n          _this2 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          showCancelButton = _props.showCancelButton,\n          disabled = _props.disabled,\n          placeholder = _props.placeholder,\n          className = _props.className,\n          style = _props.style,\n          maxLength = _props.maxLength; // tslint:disable-next-line:variable-name\n\n      var _locale = (0, _getLocale.getComponentLocale)(this.props, this.context, 'SearchBar', function () {\n        return require('./locale/zh_CN');\n      });\n\n      var cancelText = _locale.cancelText;\n      var _state = this.state,\n          value = _state.value,\n          focus = _state.focus;\n      var wrapCls = (0, _classnames5['default'])(prefixCls, className, (0, _defineProperty3['default'])({}, prefixCls + '-start', !!(focus || value && value.length > 0)));\n      var clearCls = (0, _classnames5['default'])(prefixCls + '-clear', (0, _defineProperty3['default'])({}, prefixCls + '-clear-show', !!(focus && value && value.length > 0)));\n      var cancelCls = (0, _classnames5['default'])(prefixCls + '-cancel', (_classnames3 = {}, (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-show', !!(showCancelButton || focus || value && value.length > 0)), (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-anim', this.firstFocus), _classnames3));\n      return React.createElement('form', {\n        onSubmit: this.onSubmit,\n        className: wrapCls,\n        style: style,\n        ref: function ref(el) {\n          return _this2.inputContainerRef = el;\n        },\n        action: '#'\n      }, React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('div', {\n        className: prefixCls + '-synthetic-ph',\n        ref: function ref(el) {\n          return _this2.syntheticPhRef = el;\n        }\n      }, React.createElement('span', {\n        className: prefixCls + '-synthetic-ph-container',\n        ref: function ref(el) {\n          return _this2.syntheticPhContainerRef = el;\n        }\n      }, React.createElement('i', {\n        className: prefixCls + '-synthetic-ph-icon'\n      }), React.createElement('span', {\n        className: prefixCls + '-synthetic-ph-placeholder' // tslint:disable-next-line:jsx-no-multiline-js\n        ,\n        style: {\n          visibility: placeholder && !value ? 'visible' : 'hidden'\n        }\n      }, placeholder))), React.createElement('input', (0, _extends3['default'])({\n        type: 'search',\n        className: prefixCls + '-value',\n        value: value,\n        disabled: disabled,\n        placeholder: placeholder,\n        onChange: this.onChange,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        ref: function ref(el) {\n          return _this2.inputRef = el;\n        },\n        maxLength: maxLength\n      }, (0, _getDataAttr2['default'])(this.props))), React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-clear-active'\n      }, React.createElement('a', {\n        onClick: this.onClear,\n        className: clearCls\n      }))), React.createElement('div', {\n        className: cancelCls,\n        onClick: this.onCancel,\n        ref: function ref(el) {\n          return _this2.rightBtnRef = el;\n        }\n      }, this.props.cancelText || cancelText));\n    }\n  }]);\n  return SearchBar;\n}(React.Component);\n\nexports['default'] = SearchBar;\nSearchBar.defaultProps = _PropsType.defaultProps;\nSearchBar.contextTypes = {\n  antLocale: PropTypes.object\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/Ryan/Projects/kedou/node_modules/antd-mobile/lib/search-bar/index.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_defineProperty2","_defineProperty3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_classnames4","_classnames5","_react","React","_interopRequireWildcard","_propTypes","PropTypes","_rmcFeedback","_rmcFeedback2","_getDataAttr","_getDataAttr2","_getLocale","_PropsType","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","onNextFrame","cb","window","requestAnimationFrame","setTimeout","clearNextFrameAction","nextFrameId","cancelAnimationFrame","clearTimeout","SearchBar","_React$Component","props","_this","__proto__","getPrototypeOf","onSubmit","e","preventDefault","state","inputRef","blur","onChange","focus","setState","target","onFocus","firstFocus","onBlur","onBlurTimeout","blurFromOnClear","document","activeElement","body","scrollTop","onClear","doClear","arguments","length","undefined","onCancel","defaultValue","componentDidMount","rightBtnRef","initBtn","getComputedStyle","rightBtnInitMarginleft","marginLeft","componentDidUpdate","syntheticPhRef","inputContainerRef","className","indexOf","prefixCls","syntheticPhContainerRef","realWidth","getBoundingClientRect","width","style","Math","ceil","showCancelButton","marginRight","offsetWidth","parseInt","componentWillReceiveProps","nextProps","componentWillUnmount","render","_classnames3","_this2","_props","disabled","placeholder","maxLength","_locale","getComponentLocale","context","cancelText","_state","wrapCls","clearCls","cancelCls","createElement","ref","el","action","visibility","type","activeClassName","onClick","Component","defaultProps","contextTypes","antLocale","object","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames4 = require('classnames');\n\nvar _classnames5 = _interopRequireDefault(_classnames4);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require('prop-types');\n\nvar PropTypes = _interopRequireWildcard(_propTypes);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _getLocale = require('../_util/getLocale');\n\nvar _PropsType = require('./PropsType');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction onNextFrame(cb) {\n    if (window.requestAnimationFrame) {\n        return window.requestAnimationFrame(cb);\n    }\n    return window.setTimeout(cb, 1);\n}\nfunction clearNextFrameAction(nextFrameId) {\n    if (window.cancelAnimationFrame) {\n        window.cancelAnimationFrame(nextFrameId);\n    } else {\n        window.clearTimeout(nextFrameId);\n    }\n}\n\nvar SearchBar = function (_React$Component) {\n    (0, _inherits3['default'])(SearchBar, _React$Component);\n\n    function SearchBar(props) {\n        (0, _classCallCheck3['default'])(this, SearchBar);\n\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).call(this, props));\n\n        _this.onSubmit = function (e) {\n            e.preventDefault();\n            if (_this.props.onSubmit) {\n                _this.props.onSubmit(_this.state.value || '');\n            }\n            if (_this.inputRef) {\n                _this.inputRef.blur();\n            }\n        };\n        _this.onChange = function (e) {\n            if (!_this.state.focus) {\n                _this.setState({\n                    focus: true\n                });\n            }\n            var value = e.target.value;\n            if (!('value' in _this.props)) {\n                _this.setState({ value: value });\n            }\n            if (_this.props.onChange) {\n                _this.props.onChange(value);\n            }\n        };\n        _this.onFocus = function () {\n            _this.setState({\n                focus: true\n            });\n            _this.firstFocus = true;\n            if (_this.props.onFocus) {\n                _this.props.onFocus();\n            }\n        };\n        _this.onBlur = function () {\n            _this.onBlurTimeout = onNextFrame(function () {\n                if (!_this.blurFromOnClear) {\n                    if (document.activeElement !== _this.inputRef) {\n                        _this.setState({\n                            focus: false\n                        });\n                    }\n                }\n                _this.blurFromOnClear = false;\n            });\n            if (_this.props.onBlur) {\n                // fix autoFocus item blur with flash\n                setTimeout(function () {\n                    // fix ios12 wechat browser click failure after input\n                    if (document.body) {\n                        document.body.scrollTop = document.body.scrollTop;\n                    }\n                }, 100);\n                _this.props.onBlur();\n            }\n        };\n        _this.onClear = function () {\n            _this.doClear();\n        };\n        _this.doClear = function () {\n            var blurFromOnClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n            _this.blurFromOnClear = blurFromOnClear;\n            if (!('value' in _this.props)) {\n                _this.setState({ value: '' });\n            }\n            if (_this.props.onClear) {\n                _this.props.onClear('');\n            }\n            if (_this.props.onChange) {\n                _this.props.onChange('');\n            }\n            if (blurFromOnClear) {\n                _this.focus();\n            }\n        };\n        _this.onCancel = function () {\n            if (_this.props.onCancel) {\n                _this.props.onCancel(_this.state.value || '');\n            } else {\n                _this.doClear(false);\n            }\n        };\n        _this.focus = function () {\n            if (_this.inputRef) {\n                _this.inputRef.focus();\n            }\n        };\n        var value = void 0;\n        if ('value' in props) {\n            value = props.value || '';\n        } else if ('defaultValue' in props) {\n            value = props.defaultValue;\n        } else {\n            value = '';\n        }\n        _this.state = {\n            value: value,\n            focus: false\n        };\n        return _this;\n    }\n\n    (0, _createClass3['default'])(SearchBar, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (this.rightBtnRef) {\n                var initBtn = window.getComputedStyle(this.rightBtnRef);\n                this.rightBtnInitMarginleft = initBtn.marginLeft;\n            }\n            this.componentDidUpdate();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            if (this.syntheticPhRef) {\n                if (this.inputContainerRef && this.inputContainerRef.className.indexOf(this.props.prefixCls + '-start') > -1) {\n                    // 检测是否包含名为 ${this.props.prefixCls}-start 样式，生成动画\n                    // offsetWidth 某些时候是向上取整，某些时候是向下取整，不能用\n                    if (this.syntheticPhContainerRef) {\n                        var realWidth = this.syntheticPhContainerRef.getBoundingClientRect().width; // 包含小数\n                        this.syntheticPhRef.style.width = Math.ceil(realWidth) + 'px';\n                    }\n                    if (!this.props.showCancelButton && this.rightBtnRef) {\n                        this.rightBtnRef.style.marginRight = '0';\n                    }\n                } else {\n                    this.syntheticPhRef.style.width = '100%';\n                    if (!this.props.showCancelButton && this.rightBtnRef) {\n                        this.rightBtnRef.style.marginRight = '-' + (this.rightBtnRef.offsetWidth + (this.rightBtnInitMarginleft != null ? parseInt(this.rightBtnInitMarginleft, 10) : 0)) + 'px';\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if ('value' in nextProps && nextProps.value !== this.state.value) {\n                this.setState({\n                    value: nextProps.value\n                });\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.onBlurTimeout) {\n                clearNextFrameAction(this.onBlurTimeout);\n                this.onBlurTimeout = null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classnames3,\n                _this2 = this;\n\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                showCancelButton = _props.showCancelButton,\n                disabled = _props.disabled,\n                placeholder = _props.placeholder,\n                className = _props.className,\n                style = _props.style,\n                maxLength = _props.maxLength;\n            // tslint:disable-next-line:variable-name\n\n            var _locale = (0, _getLocale.getComponentLocale)(this.props, this.context, 'SearchBar', function () {\n                return require('./locale/zh_CN');\n            });\n            var cancelText = _locale.cancelText;\n            var _state = this.state,\n                value = _state.value,\n                focus = _state.focus;\n\n            var wrapCls = (0, _classnames5['default'])(prefixCls, className, (0, _defineProperty3['default'])({}, prefixCls + '-start', !!(focus || value && value.length > 0)));\n            var clearCls = (0, _classnames5['default'])(prefixCls + '-clear', (0, _defineProperty3['default'])({}, prefixCls + '-clear-show', !!(focus && value && value.length > 0)));\n            var cancelCls = (0, _classnames5['default'])(prefixCls + '-cancel', (_classnames3 = {}, (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-show', !!(showCancelButton || focus || value && value.length > 0)), (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-anim', this.firstFocus), _classnames3));\n            return React.createElement(\n                'form',\n                { onSubmit: this.onSubmit, className: wrapCls, style: style, ref: function ref(el) {\n                        return _this2.inputContainerRef = el;\n                    }, action: '#' },\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-input' },\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-synthetic-ph', ref: function ref(el) {\n                                return _this2.syntheticPhRef = el;\n                            } },\n                        React.createElement(\n                            'span',\n                            { className: prefixCls + '-synthetic-ph-container', ref: function ref(el) {\n                                    return _this2.syntheticPhContainerRef = el;\n                                } },\n                            React.createElement('i', { className: prefixCls + '-synthetic-ph-icon' }),\n                            React.createElement(\n                                'span',\n                                { className: prefixCls + '-synthetic-ph-placeholder'\n                                    // tslint:disable-next-line:jsx-no-multiline-js\n                                    , style: {\n                                        visibility: placeholder && !value ? 'visible' : 'hidden'\n                                    } },\n                                placeholder\n                            )\n                        )\n                    ),\n                    React.createElement('input', (0, _extends3['default'])({ type: 'search', className: prefixCls + '-value', value: value, disabled: disabled, placeholder: placeholder, onChange: this.onChange, onFocus: this.onFocus, onBlur: this.onBlur, ref: function ref(el) {\n                            return _this2.inputRef = el;\n                        }, maxLength: maxLength }, (0, _getDataAttr2['default'])(this.props))),\n                    React.createElement(\n                        _rmcFeedback2['default'],\n                        { activeClassName: prefixCls + '-clear-active' },\n                        React.createElement('a', { onClick: this.onClear, className: clearCls })\n                    )\n                ),\n                React.createElement(\n                    'div',\n                    { className: cancelCls, onClick: this.onCancel, ref: function ref(el) {\n                            return _this2.rightBtnRef = el;\n                        } },\n                    this.props.cancelText || cancelText\n                )\n            );\n        }\n    }]);\n    return SearchBar;\n}(React.Component);\n\nexports['default'] = SearchBar;\n\nSearchBar.defaultProps = _PropsType.defaultProps;\nSearchBar.contextTypes = {\n    antLocale: PropTypes.object\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}