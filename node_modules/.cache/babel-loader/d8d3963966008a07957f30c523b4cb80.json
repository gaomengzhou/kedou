{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport Animate from 'rc-animate';\nimport LazyRenderBox from './LazyRenderBox';\n\nfunction noop() {}\n\nvar Dialog = function (_React$Component) {\n  _inherits(Dialog, _React$Component);\n\n  function Dialog() {\n    _classCallCheck(this, Dialog);\n\n    var _this = _possibleConstructorReturn(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).apply(this, arguments));\n\n    _this.getDialogElement = function () {\n      var props = _this.props;\n      var closable = props.closable;\n      var prefixCls = props.prefixCls;\n      var footer = void 0;\n\n      if (props.footer) {\n        footer = React.createElement(\"div\", {\n          className: prefixCls + '-footer',\n          ref: function ref(el) {\n            return _this.footerRef = el;\n          }\n        }, props.footer);\n      }\n\n      var header = void 0;\n\n      if (props.title) {\n        header = React.createElement(\"div\", {\n          className: prefixCls + '-header',\n          ref: function ref(el) {\n            return _this.headerRef = el;\n          }\n        }, React.createElement(\"div\", {\n          className: prefixCls + '-title'\n        }, props.title));\n      }\n\n      var closer = void 0;\n\n      if (closable) {\n        closer = React.createElement(\"button\", {\n          onClick: _this.close,\n          \"aria-label\": \"Close\",\n          className: prefixCls + '-close'\n        }, React.createElement(\"span\", {\n          className: prefixCls + '-close-x'\n        }));\n      }\n\n      var transitionName = _this.getTransitionName();\n\n      var dialogElement = React.createElement(LazyRenderBox, {\n        key: \"dialog-element\",\n        role: \"document\",\n        ref: function ref(el) {\n          return _this.dialogRef = el;\n        },\n        style: props.style || {},\n        className: prefixCls + ' ' + (props.className || ''),\n        visible: props.visible\n      }, React.createElement(\"div\", {\n        className: prefixCls + '-content'\n      }, closer, header, React.createElement(\"div\", {\n        className: prefixCls + '-body',\n        style: props.bodyStyle,\n        ref: function ref(el) {\n          return _this.bodyRef = el;\n        }\n      }, props.children), footer));\n      return React.createElement(Animate, {\n        key: \"dialog\",\n        showProp: \"visible\",\n        onAppear: _this.onAnimateAppear,\n        onLeave: _this.onAnimateLeave,\n        transitionName: transitionName,\n        component: \"\",\n        transitionAppear: true\n      }, dialogElement);\n    };\n\n    _this.onAnimateAppear = function () {\n      document.body.style.overflow = 'hidden';\n    };\n\n    _this.onAnimateLeave = function () {\n      document.body.style.overflow = '';\n\n      if (_this.wrapRef) {\n        _this.wrapRef.style.display = 'none';\n      }\n\n      if (_this.props.onAnimateLeave) {\n        _this.props.onAnimateLeave();\n      }\n\n      if (_this.props.afterClose) {\n        _this.props.afterClose();\n      }\n    };\n\n    _this.close = function (e) {\n      if (_this.props.onClose) {\n        _this.props.onClose(e);\n      }\n    };\n\n    _this.onMaskClick = function (e) {\n      if (e.target === e.currentTarget) {\n        _this.close(e);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Dialog, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      // fix: react@16 no dismissing animation\n      document.body.style.overflow = '';\n\n      if (this.wrapRef) {\n        this.wrapRef.style.display = 'none';\n      }\n    }\n  }, {\n    key: 'getZIndexStyle',\n    value: function getZIndexStyle() {\n      var style = {};\n      var props = this.props;\n\n      if (props.zIndex !== undefined) {\n        style.zIndex = props.zIndex;\n      }\n\n      return style;\n    }\n  }, {\n    key: 'getWrapStyle',\n    value: function getWrapStyle() {\n      var wrapStyle = this.props.wrapStyle || {};\n      return _extends({}, this.getZIndexStyle(), wrapStyle);\n    }\n  }, {\n    key: 'getMaskStyle',\n    value: function getMaskStyle() {\n      var maskStyle = this.props.maskStyle || {};\n      return _extends({}, this.getZIndexStyle(), maskStyle);\n    }\n  }, {\n    key: 'getMaskTransitionName',\n    value: function getMaskTransitionName() {\n      var props = this.props;\n      var transitionName = props.maskTransitionName;\n      var animation = props.maskAnimation;\n\n      if (!transitionName && animation) {\n        transitionName = props.prefixCls + '-' + animation;\n      }\n\n      return transitionName;\n    }\n  }, {\n    key: 'getTransitionName',\n    value: function getTransitionName() {\n      var props = this.props;\n      var transitionName = props.transitionName;\n      var animation = props.animation;\n\n      if (!transitionName && animation) {\n        transitionName = props.prefixCls + '-' + animation;\n      }\n\n      return transitionName;\n    }\n  }, {\n    key: 'getMaskElement',\n    value: function getMaskElement() {\n      var props = this.props;\n      var maskElement = void 0;\n\n      if (props.mask) {\n        var maskTransition = this.getMaskTransitionName();\n        maskElement = React.createElement(LazyRenderBox, _extends({\n          style: this.getMaskStyle(),\n          key: \"mask-element\",\n          className: props.prefixCls + '-mask',\n          hiddenClassName: props.prefixCls + '-mask-hidden',\n          visible: props.visible\n        }, props.maskProps));\n\n        if (maskTransition) {\n          maskElement = React.createElement(Animate, {\n            key: \"mask\",\n            showProp: \"visible\",\n            transitionAppear: true,\n            component: \"\",\n            transitionName: maskTransition\n          }, maskElement);\n        }\n      }\n\n      return maskElement;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.props;\n      var prefixCls = props.prefixCls,\n          maskClosable = props.maskClosable;\n      var style = this.getWrapStyle();\n\n      if (props.visible) {\n        style.display = null;\n      }\n\n      return React.createElement(\"div\", null, this.getMaskElement(), React.createElement(\"div\", _extends({\n        className: prefixCls + '-wrap ' + (props.wrapClassName || ''),\n        ref: function ref(el) {\n          return _this2.wrapRef = el;\n        },\n        onClick: maskClosable ? this.onMaskClick : undefined,\n        role: \"dialog\",\n        \"aria-labelledby\": props.title,\n        style: style\n      }, props.wrapProps), this.getDialogElement()));\n    }\n  }]);\n\n  return Dialog;\n}(React.Component);\n\nexport default Dialog;\nDialog.defaultProps = {\n  afterClose: noop,\n  className: '',\n  mask: true,\n  visible: false,\n  closable: true,\n  maskClosable: true,\n  prefixCls: 'rmc-dialog',\n  onClose: noop\n};","map":{"version":3,"sources":["/Users/Ryan/Projects/kedou/node_modules/rmc-dialog/es/Dialog.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Animate","LazyRenderBox","noop","Dialog","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","getDialogElement","props","closable","prefixCls","footer","createElement","className","ref","el","footerRef","header","title","headerRef","closer","onClick","close","transitionName","getTransitionName","dialogElement","key","role","dialogRef","style","visible","bodyStyle","bodyRef","children","showProp","onAppear","onAnimateAppear","onLeave","onAnimateLeave","component","transitionAppear","document","body","overflow","wrapRef","display","afterClose","e","onClose","onMaskClick","target","currentTarget","value","componentWillUnmount","getZIndexStyle","zIndex","undefined","getWrapStyle","wrapStyle","getMaskStyle","maskStyle","getMaskTransitionName","maskTransitionName","animation","maskAnimation","getMaskElement","maskElement","mask","maskTransition","hiddenClassName","maskProps","render","_this2","maskClosable","wrapClassName","wrapProps","Component","defaultProps"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,+BAArB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,OAAOC,0BAAP,MAAuC,iDAAvC;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;AACA,SAASC,IAAT,GAAgB,CAAE;;AAElB,IAAIC,MAAM,GAAG,UAAUC,gBAAV,EAA4B;AACrCN,EAAAA,SAAS,CAACK,MAAD,EAASC,gBAAT,CAAT;;AAEA,WAASD,MAAT,GAAkB;AACdR,IAAAA,eAAe,CAAC,IAAD,EAAOQ,MAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGR,0BAA0B,CAAC,IAAD,EAAO,CAACM,MAAM,CAACG,SAAP,IAAoBC,MAAM,CAACC,cAAP,CAAsBL,MAAtB,CAArB,EAAoDM,KAApD,CAA0D,IAA1D,EAAgEC,SAAhE,CAAP,CAAtC;;AAEAL,IAAAA,KAAK,CAACM,gBAAN,GAAyB,YAAY;AACjC,UAAIC,KAAK,GAAGP,KAAK,CAACO,KAAlB;AACA,UAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AACA,UAAIC,SAAS,GAAGF,KAAK,CAACE,SAAtB;AACA,UAAIC,MAAM,GAAG,KAAK,CAAlB;;AACA,UAAIH,KAAK,CAACG,MAAV,EAAkB;AACdA,QAAAA,MAAM,GAAGhB,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2B;AAAEC,UAAAA,SAAS,EAAEH,SAAS,GAAG,SAAzB;AAAoCI,UAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,EAAb,EAAiB;AACtF,mBAAOd,KAAK,CAACe,SAAN,GAAkBD,EAAzB;AACH;AAF+B,SAA3B,EAEAP,KAAK,CAACG,MAFN,CAAT;AAGH;;AACD,UAAIM,MAAM,GAAG,KAAK,CAAlB;;AACA,UAAIT,KAAK,CAACU,KAAV,EAAiB;AACbD,QAAAA,MAAM,GAAGtB,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2B;AAAEC,UAAAA,SAAS,EAAEH,SAAS,GAAG,SAAzB;AAAoCI,UAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,EAAb,EAAiB;AACtF,mBAAOd,KAAK,CAACkB,SAAN,GAAkBJ,EAAzB;AACH;AAF+B,SAA3B,EAEApB,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2B;AAAEC,UAAAA,SAAS,EAAEH,SAAS,GAAG;AAAzB,SAA3B,EAAgEF,KAAK,CAACU,KAAtE,CAFA,CAAT;AAGH;;AACD,UAAIE,MAAM,GAAG,KAAK,CAAlB;;AACA,UAAIX,QAAJ,EAAc;AACVW,QAAAA,MAAM,GAAGzB,KAAK,CAACiB,aAAN,CAAoB,QAApB,EAA8B;AAAES,UAAAA,OAAO,EAAEpB,KAAK,CAACqB,KAAjB;AAAwB,wBAAc,OAAtC;AAA+CT,UAAAA,SAAS,EAAEH,SAAS,GAAG;AAAtE,SAA9B,EAAgHf,KAAK,CAACiB,aAAN,CAAoB,MAApB,EAA4B;AAAEC,UAAAA,SAAS,EAAEH,SAAS,GAAG;AAAzB,SAA5B,CAAhH,CAAT;AACH;;AACD,UAAIa,cAAc,GAAGtB,KAAK,CAACuB,iBAAN,EAArB;;AACA,UAAIC,aAAa,GAAG9B,KAAK,CAACiB,aAAN,CAAoBf,aAApB,EAAmC;AAAE6B,QAAAA,GAAG,EAAE,gBAAP;AAAyBC,QAAAA,IAAI,EAAE,UAA/B;AAA2Cb,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,EAAb,EAAiB;AAChH,iBAAOd,KAAK,CAAC2B,SAAN,GAAkBb,EAAzB;AACH,SAFkD;AAEhDc,QAAAA,KAAK,EAAErB,KAAK,CAACqB,KAAN,IAAe,EAF0B;AAEtBhB,QAAAA,SAAS,EAAEH,SAAS,GAAG,GAAZ,IAAmBF,KAAK,CAACK,SAAN,IAAmB,EAAtC,CAFW;AAEgCiB,QAAAA,OAAO,EAAEtB,KAAK,CAACsB;AAF/C,OAAnC,EAE6FnC,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2B;AAAEC,QAAAA,SAAS,EAAEH,SAAS,GAAG;AAAzB,OAA3B,EAAkEU,MAAlE,EAA0EH,MAA1E,EAAkFtB,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2B;AAAEC,QAAAA,SAAS,EAAEH,SAAS,GAAG,OAAzB;AAAkCmB,QAAAA,KAAK,EAAErB,KAAK,CAACuB,SAA/C;AAA0DjB,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,EAAb,EAAiB;AACtS,iBAAOd,KAAK,CAAC+B,OAAN,GAAgBjB,EAAvB;AACH;AAFyN,OAA3B,EAE1LP,KAAK,CAACyB,QAFoL,CAAlF,EAEvFtB,MAFuF,CAF7F,CAApB;AAKA,aAAOhB,KAAK,CAACiB,aAAN,CAAoBhB,OAApB,EAA6B;AAAE8B,QAAAA,GAAG,EAAE,QAAP;AAAiBQ,QAAAA,QAAQ,EAAE,SAA3B;AAAsCC,QAAAA,QAAQ,EAAElC,KAAK,CAACmC,eAAtD;AAAuEC,QAAAA,OAAO,EAAEpC,KAAK,CAACqC,cAAtF;AAAsGf,QAAAA,cAAc,EAAEA,cAAtH;AAAsIgB,QAAAA,SAAS,EAAE,EAAjJ;AAAqJC,QAAAA,gBAAgB,EAAE;AAAvK,OAA7B,EAA4Mf,aAA5M,CAAP;AACH,KA3BD;;AA4BAxB,IAAAA,KAAK,CAACmC,eAAN,GAAwB,YAAY;AAChCK,MAAAA,QAAQ,CAACC,IAAT,CAAcb,KAAd,CAAoBc,QAApB,GAA+B,QAA/B;AACH,KAFD;;AAGA1C,IAAAA,KAAK,CAACqC,cAAN,GAAuB,YAAY;AAC/BG,MAAAA,QAAQ,CAACC,IAAT,CAAcb,KAAd,CAAoBc,QAApB,GAA+B,EAA/B;;AACA,UAAI1C,KAAK,CAAC2C,OAAV,EAAmB;AACf3C,QAAAA,KAAK,CAAC2C,OAAN,CAAcf,KAAd,CAAoBgB,OAApB,GAA8B,MAA9B;AACH;;AACD,UAAI5C,KAAK,CAACO,KAAN,CAAY8B,cAAhB,EAAgC;AAC5BrC,QAAAA,KAAK,CAACO,KAAN,CAAY8B,cAAZ;AACH;;AACD,UAAIrC,KAAK,CAACO,KAAN,CAAYsC,UAAhB,EAA4B;AACxB7C,QAAAA,KAAK,CAACO,KAAN,CAAYsC,UAAZ;AACH;AACJ,KAXD;;AAYA7C,IAAAA,KAAK,CAACqB,KAAN,GAAc,UAAUyB,CAAV,EAAa;AACvB,UAAI9C,KAAK,CAACO,KAAN,CAAYwC,OAAhB,EAAyB;AACrB/C,QAAAA,KAAK,CAACO,KAAN,CAAYwC,OAAZ,CAAoBD,CAApB;AACH;AACJ,KAJD;;AAKA9C,IAAAA,KAAK,CAACgD,WAAN,GAAoB,UAAUF,CAAV,EAAa;AAC7B,UAAIA,CAAC,CAACG,MAAF,KAAaH,CAAC,CAACI,aAAnB,EAAkC;AAC9BlD,QAAAA,KAAK,CAACqB,KAAN,CAAYyB,CAAZ;AACH;AACJ,KAJD;;AAKA,WAAO9C,KAAP;AACH;;AAEDT,EAAAA,YAAY,CAACO,MAAD,EAAS,CAAC;AAClB2B,IAAAA,GAAG,EAAE,sBADa;AAElB0B,IAAAA,KAAK,EAAE,SAASC,oBAAT,GAAgC;AACnC;AACAZ,MAAAA,QAAQ,CAACC,IAAT,CAAcb,KAAd,CAAoBc,QAApB,GAA+B,EAA/B;;AACA,UAAI,KAAKC,OAAT,EAAkB;AACd,aAAKA,OAAL,CAAaf,KAAb,CAAmBgB,OAAnB,GAA6B,MAA7B;AACH;AACJ;AARiB,GAAD,EASlB;AACCnB,IAAAA,GAAG,EAAE,gBADN;AAEC0B,IAAAA,KAAK,EAAE,SAASE,cAAT,GAA0B;AAC7B,UAAIzB,KAAK,GAAG,EAAZ;AACA,UAAIrB,KAAK,GAAG,KAAKA,KAAjB;;AACA,UAAIA,KAAK,CAAC+C,MAAN,KAAiBC,SAArB,EAAgC;AAC5B3B,QAAAA,KAAK,CAAC0B,MAAN,GAAe/C,KAAK,CAAC+C,MAArB;AACH;;AACD,aAAO1B,KAAP;AACH;AATF,GATkB,EAmBlB;AACCH,IAAAA,GAAG,EAAE,cADN;AAEC0B,IAAAA,KAAK,EAAE,SAASK,YAAT,GAAwB;AAC3B,UAAIC,SAAS,GAAG,KAAKlD,KAAL,CAAWkD,SAAX,IAAwB,EAAxC;AACA,aAAOpE,QAAQ,CAAC,EAAD,EAAK,KAAKgE,cAAL,EAAL,EAA4BI,SAA5B,CAAf;AACH;AALF,GAnBkB,EAyBlB;AACChC,IAAAA,GAAG,EAAE,cADN;AAEC0B,IAAAA,KAAK,EAAE,SAASO,YAAT,GAAwB;AAC3B,UAAIC,SAAS,GAAG,KAAKpD,KAAL,CAAWoD,SAAX,IAAwB,EAAxC;AACA,aAAOtE,QAAQ,CAAC,EAAD,EAAK,KAAKgE,cAAL,EAAL,EAA4BM,SAA5B,CAAf;AACH;AALF,GAzBkB,EA+BlB;AACClC,IAAAA,GAAG,EAAE,uBADN;AAEC0B,IAAAA,KAAK,EAAE,SAASS,qBAAT,GAAiC;AACpC,UAAIrD,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAIe,cAAc,GAAGf,KAAK,CAACsD,kBAA3B;AACA,UAAIC,SAAS,GAAGvD,KAAK,CAACwD,aAAtB;;AACA,UAAI,CAACzC,cAAD,IAAmBwC,SAAvB,EAAkC;AAC9BxC,QAAAA,cAAc,GAAGf,KAAK,CAACE,SAAN,GAAkB,GAAlB,GAAwBqD,SAAzC;AACH;;AACD,aAAOxC,cAAP;AACH;AAVF,GA/BkB,EA0ClB;AACCG,IAAAA,GAAG,EAAE,mBADN;AAEC0B,IAAAA,KAAK,EAAE,SAAS5B,iBAAT,GAA6B;AAChC,UAAIhB,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAIe,cAAc,GAAGf,KAAK,CAACe,cAA3B;AACA,UAAIwC,SAAS,GAAGvD,KAAK,CAACuD,SAAtB;;AACA,UAAI,CAACxC,cAAD,IAAmBwC,SAAvB,EAAkC;AAC9BxC,QAAAA,cAAc,GAAGf,KAAK,CAACE,SAAN,GAAkB,GAAlB,GAAwBqD,SAAzC;AACH;;AACD,aAAOxC,cAAP;AACH;AAVF,GA1CkB,EAqDlB;AACCG,IAAAA,GAAG,EAAE,gBADN;AAEC0B,IAAAA,KAAK,EAAE,SAASa,cAAT,GAA0B;AAC7B,UAAIzD,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAI0D,WAAW,GAAG,KAAK,CAAvB;;AACA,UAAI1D,KAAK,CAAC2D,IAAV,EAAgB;AACZ,YAAIC,cAAc,GAAG,KAAKP,qBAAL,EAArB;AACAK,QAAAA,WAAW,GAAGvE,KAAK,CAACiB,aAAN,CAAoBf,aAApB,EAAmCP,QAAQ,CAAC;AAAEuC,UAAAA,KAAK,EAAE,KAAK8B,YAAL,EAAT;AAA8BjC,UAAAA,GAAG,EAAE,cAAnC;AAAmDb,UAAAA,SAAS,EAAEL,KAAK,CAACE,SAAN,GAAkB,OAAhF;AAAyF2D,UAAAA,eAAe,EAAE7D,KAAK,CAACE,SAAN,GAAkB,cAA5H;AAA4IoB,UAAAA,OAAO,EAAEtB,KAAK,CAACsB;AAA3J,SAAD,EAAuKtB,KAAK,CAAC8D,SAA7K,CAA3C,CAAd;;AACA,YAAIF,cAAJ,EAAoB;AAChBF,UAAAA,WAAW,GAAGvE,KAAK,CAACiB,aAAN,CAAoBhB,OAApB,EAA6B;AAAE8B,YAAAA,GAAG,EAAE,MAAP;AAAeQ,YAAAA,QAAQ,EAAE,SAAzB;AAAoCM,YAAAA,gBAAgB,EAAE,IAAtD;AAA4DD,YAAAA,SAAS,EAAE,EAAvE;AAA2EhB,YAAAA,cAAc,EAAE6C;AAA3F,WAA7B,EAA0IF,WAA1I,CAAd;AACH;AACJ;;AACD,aAAOA,WAAP;AACH;AAbF,GArDkB,EAmElB;AACCxC,IAAAA,GAAG,EAAE,QADN;AAEC0B,IAAAA,KAAK,EAAE,SAASmB,MAAT,GAAkB;AACrB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIhE,KAAK,GAAG,KAAKA,KAAjB;AACA,UAAIE,SAAS,GAAGF,KAAK,CAACE,SAAtB;AAAA,UACI+D,YAAY,GAAGjE,KAAK,CAACiE,YADzB;AAGA,UAAI5C,KAAK,GAAG,KAAK4B,YAAL,EAAZ;;AACA,UAAIjD,KAAK,CAACsB,OAAV,EAAmB;AACfD,QAAAA,KAAK,CAACgB,OAAN,GAAgB,IAAhB;AACH;;AACD,aAAOlD,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EAAiC,KAAKqD,cAAL,EAAjC,EAAwDtE,KAAK,CAACiB,aAAN,CAAoB,KAApB,EAA2BtB,QAAQ,CAAC;AAAEuB,QAAAA,SAAS,EAAEH,SAAS,GAAG,QAAZ,IAAwBF,KAAK,CAACkE,aAAN,IAAuB,EAA/C,CAAb;AAAiE5D,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,EAAb,EAAiB;AAClL,iBAAOyD,MAAM,CAAC5B,OAAP,GAAiB7B,EAAxB;AACH,SAF8F;AAE5FM,QAAAA,OAAO,EAAEoD,YAAY,GAAG,KAAKxB,WAAR,GAAsBO,SAFiD;AAEtC7B,QAAAA,IAAI,EAAE,QAFgC;AAEtB,2BAAmBnB,KAAK,CAACU,KAFH;AAEUW,QAAAA,KAAK,EAAEA;AAFjB,OAAD,EAE2BrB,KAAK,CAACmE,SAFjC,CAAnC,EAEgF,KAAKpE,gBAAL,EAFhF,CAAxD,CAAP;AAGH;AAhBF,GAnEkB,CAAT,CAAZ;;AAsFA,SAAOR,MAAP;AACH,CAvJY,CAuJXJ,KAAK,CAACiF,SAvJK,CAAb;;AAyJA,eAAe7E,MAAf;AAEAA,MAAM,CAAC8E,YAAP,GAAsB;AAClB/B,EAAAA,UAAU,EAAEhD,IADM;AAElBe,EAAAA,SAAS,EAAE,EAFO;AAGlBsD,EAAAA,IAAI,EAAE,IAHY;AAIlBrC,EAAAA,OAAO,EAAE,KAJS;AAKlBrB,EAAAA,QAAQ,EAAE,IALQ;AAMlBgE,EAAAA,YAAY,EAAE,IANI;AAOlB/D,EAAAA,SAAS,EAAE,YAPO;AAQlBsC,EAAAA,OAAO,EAAElD;AARS,CAAtB","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport Animate from 'rc-animate';\nimport LazyRenderBox from './LazyRenderBox';\nfunction noop() {}\n\nvar Dialog = function (_React$Component) {\n    _inherits(Dialog, _React$Component);\n\n    function Dialog() {\n        _classCallCheck(this, Dialog);\n\n        var _this = _possibleConstructorReturn(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).apply(this, arguments));\n\n        _this.getDialogElement = function () {\n            var props = _this.props;\n            var closable = props.closable;\n            var prefixCls = props.prefixCls;\n            var footer = void 0;\n            if (props.footer) {\n                footer = React.createElement(\"div\", { className: prefixCls + '-footer', ref: function ref(el) {\n                        return _this.footerRef = el;\n                    } }, props.footer);\n            }\n            var header = void 0;\n            if (props.title) {\n                header = React.createElement(\"div\", { className: prefixCls + '-header', ref: function ref(el) {\n                        return _this.headerRef = el;\n                    } }, React.createElement(\"div\", { className: prefixCls + '-title' }, props.title));\n            }\n            var closer = void 0;\n            if (closable) {\n                closer = React.createElement(\"button\", { onClick: _this.close, \"aria-label\": \"Close\", className: prefixCls + '-close' }, React.createElement(\"span\", { className: prefixCls + '-close-x' }));\n            }\n            var transitionName = _this.getTransitionName();\n            var dialogElement = React.createElement(LazyRenderBox, { key: \"dialog-element\", role: \"document\", ref: function ref(el) {\n                    return _this.dialogRef = el;\n                }, style: props.style || {}, className: prefixCls + ' ' + (props.className || ''), visible: props.visible }, React.createElement(\"div\", { className: prefixCls + '-content' }, closer, header, React.createElement(\"div\", { className: prefixCls + '-body', style: props.bodyStyle, ref: function ref(el) {\n                    return _this.bodyRef = el;\n                } }, props.children), footer));\n            return React.createElement(Animate, { key: \"dialog\", showProp: \"visible\", onAppear: _this.onAnimateAppear, onLeave: _this.onAnimateLeave, transitionName: transitionName, component: \"\", transitionAppear: true }, dialogElement);\n        };\n        _this.onAnimateAppear = function () {\n            document.body.style.overflow = 'hidden';\n        };\n        _this.onAnimateLeave = function () {\n            document.body.style.overflow = '';\n            if (_this.wrapRef) {\n                _this.wrapRef.style.display = 'none';\n            }\n            if (_this.props.onAnimateLeave) {\n                _this.props.onAnimateLeave();\n            }\n            if (_this.props.afterClose) {\n                _this.props.afterClose();\n            }\n        };\n        _this.close = function (e) {\n            if (_this.props.onClose) {\n                _this.props.onClose(e);\n            }\n        };\n        _this.onMaskClick = function (e) {\n            if (e.target === e.currentTarget) {\n                _this.close(e);\n            }\n        };\n        return _this;\n    }\n\n    _createClass(Dialog, [{\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            // fix: react@16 no dismissing animation\n            document.body.style.overflow = '';\n            if (this.wrapRef) {\n                this.wrapRef.style.display = 'none';\n            }\n        }\n    }, {\n        key: 'getZIndexStyle',\n        value: function getZIndexStyle() {\n            var style = {};\n            var props = this.props;\n            if (props.zIndex !== undefined) {\n                style.zIndex = props.zIndex;\n            }\n            return style;\n        }\n    }, {\n        key: 'getWrapStyle',\n        value: function getWrapStyle() {\n            var wrapStyle = this.props.wrapStyle || {};\n            return _extends({}, this.getZIndexStyle(), wrapStyle);\n        }\n    }, {\n        key: 'getMaskStyle',\n        value: function getMaskStyle() {\n            var maskStyle = this.props.maskStyle || {};\n            return _extends({}, this.getZIndexStyle(), maskStyle);\n        }\n    }, {\n        key: 'getMaskTransitionName',\n        value: function getMaskTransitionName() {\n            var props = this.props;\n            var transitionName = props.maskTransitionName;\n            var animation = props.maskAnimation;\n            if (!transitionName && animation) {\n                transitionName = props.prefixCls + '-' + animation;\n            }\n            return transitionName;\n        }\n    }, {\n        key: 'getTransitionName',\n        value: function getTransitionName() {\n            var props = this.props;\n            var transitionName = props.transitionName;\n            var animation = props.animation;\n            if (!transitionName && animation) {\n                transitionName = props.prefixCls + '-' + animation;\n            }\n            return transitionName;\n        }\n    }, {\n        key: 'getMaskElement',\n        value: function getMaskElement() {\n            var props = this.props;\n            var maskElement = void 0;\n            if (props.mask) {\n                var maskTransition = this.getMaskTransitionName();\n                maskElement = React.createElement(LazyRenderBox, _extends({ style: this.getMaskStyle(), key: \"mask-element\", className: props.prefixCls + '-mask', hiddenClassName: props.prefixCls + '-mask-hidden', visible: props.visible }, props.maskProps));\n                if (maskTransition) {\n                    maskElement = React.createElement(Animate, { key: \"mask\", showProp: \"visible\", transitionAppear: true, component: \"\", transitionName: maskTransition }, maskElement);\n                }\n            }\n            return maskElement;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var props = this.props;\n            var prefixCls = props.prefixCls,\n                maskClosable = props.maskClosable;\n\n            var style = this.getWrapStyle();\n            if (props.visible) {\n                style.display = null;\n            }\n            return React.createElement(\"div\", null, this.getMaskElement(), React.createElement(\"div\", _extends({ className: prefixCls + '-wrap ' + (props.wrapClassName || ''), ref: function ref(el) {\n                    return _this2.wrapRef = el;\n                }, onClick: maskClosable ? this.onMaskClick : undefined, role: \"dialog\", \"aria-labelledby\": props.title, style: style }, props.wrapProps), this.getDialogElement()));\n        }\n    }]);\n\n    return Dialog;\n}(React.Component);\n\nexport default Dialog;\n\nDialog.defaultProps = {\n    afterClose: noop,\n    className: '',\n    mask: true,\n    visible: false,\n    closable: true,\n    maskClosable: true,\n    prefixCls: 'rmc-dialog',\n    onClose: noop\n};"]},"metadata":{},"sourceType":"module"}