{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport Gesture from 'rc-gesture';\nimport { setPxStyle, getTransformPropValue, getPxStyle } from './util';\nexport var StateType = function StateType() {\n  _classCallCheck(this, StateType);\n\n  this.transform = '';\n  this.isMoving = false;\n  this.showPrev = false;\n  this.showNext = false;\n};\nexport var DefaultTabBar = function (_React$PureComponent) {\n  _inherits(DefaultTabBar, _React$PureComponent);\n\n  function DefaultTabBar(props) {\n    _classCallCheck(this, DefaultTabBar);\n\n    var _this = _possibleConstructorReturn(this, (DefaultTabBar.__proto__ || Object.getPrototypeOf(DefaultTabBar)).call(this, props));\n\n    _this.onPan = function () {\n      var lastOffset = 0;\n      var finalOffset = 0;\n\n      var getLastOffset = function getLastOffset() {\n        var isVertical = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.isTabBarVertical();\n        var offset = +('' + lastOffset).replace('%', '');\n\n        if (('' + lastOffset).indexOf('%') >= 0) {\n          offset /= 100;\n          offset *= isVertical ? _this.layout.clientHeight : _this.layout.clientWidth;\n        }\n\n        return offset;\n      };\n\n      return {\n        onPanStart: function onPanStart() {\n          _this.setState({\n            isMoving: true\n          });\n        },\n        onPanMove: function onPanMove(status) {\n          if (!status.moveStatus || !_this.layout) return;\n\n          var isVertical = _this.isTabBarVertical();\n\n          var offset = getLastOffset() + (isVertical ? status.moveStatus.y : status.moveStatus.x);\n          var canScrollOffset = isVertical ? -_this.layout.scrollHeight + _this.layout.clientHeight : -_this.layout.scrollWidth + _this.layout.clientWidth;\n          offset = Math.min(offset, 0);\n          offset = Math.max(offset, canScrollOffset);\n          setPxStyle(_this.layout, offset, 'px', isVertical);\n          finalOffset = offset;\n\n          _this.setState({\n            showPrev: -offset > 0,\n            showNext: offset > canScrollOffset\n          });\n        },\n        onPanEnd: function onPanEnd() {\n          var isVertical = _this.isTabBarVertical();\n\n          lastOffset = finalOffset;\n\n          _this.setState({\n            isMoving: false,\n            transform: getPxStyle(finalOffset, 'px', isVertical)\n          });\n        },\n        setCurrentOffset: function setCurrentOffset(offset) {\n          return lastOffset = offset;\n        }\n      };\n    }();\n\n    _this.getTransformByIndex = function (props) {\n      var activeTab = props.activeTab,\n          tabs = props.tabs,\n          _props$page = props.page,\n          page = _props$page === undefined ? 0 : _props$page;\n\n      var isVertical = _this.isTabBarVertical();\n\n      var size = _this.getTabSize(page, tabs.length);\n\n      var center = page / 2;\n      var pos = Math.min(activeTab, tabs.length - center - .5);\n      var skipSize = Math.min(-(pos - center + .5) * size, 0);\n\n      _this.onPan.setCurrentOffset(skipSize + '%');\n\n      return {\n        transform: getPxStyle(skipSize, '%', isVertical),\n        showPrev: activeTab > center - .5 && tabs.length > page,\n        showNext: activeTab < tabs.length - center - .5 && tabs.length > page\n      };\n    };\n\n    _this.onPress = function (index) {\n      var _this$props = _this.props,\n          goToTab = _this$props.goToTab,\n          onTabClick = _this$props.onTabClick,\n          tabs = _this$props.tabs;\n      onTabClick && onTabClick(tabs[index], index);\n      goToTab && goToTab(index);\n    };\n\n    _this.isTabBarVertical = function () {\n      var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.tabBarPosition;\n      return position === 'left' || position === 'right';\n    };\n\n    _this.renderTab = function (t, i, size, isTabBarVertical) {\n      var _this$props2 = _this.props,\n          prefixCls = _this$props2.prefixCls,\n          renderTab = _this$props2.renderTab,\n          activeTab = _this$props2.activeTab,\n          tabBarTextStyle = _this$props2.tabBarTextStyle,\n          tabBarActiveTextColor = _this$props2.tabBarActiveTextColor,\n          tabBarInactiveTextColor = _this$props2.tabBarInactiveTextColor,\n          instanceId = _this$props2.instanceId;\n\n      var textStyle = _extends({}, tabBarTextStyle);\n\n      var cls = prefixCls + '-tab';\n      var ariaSelected = false;\n\n      if (activeTab === i) {\n        cls += ' ' + cls + '-active';\n        ariaSelected = true;\n\n        if (tabBarActiveTextColor) {\n          textStyle.color = tabBarActiveTextColor;\n        }\n      } else if (tabBarInactiveTextColor) {\n        textStyle.color = tabBarInactiveTextColor;\n      }\n\n      return React.createElement('div', {\n        key: 't_' + i,\n        style: _extends({}, textStyle, isTabBarVertical ? {\n          height: size + '%'\n        } : {\n          width: size + '%'\n        }),\n        id: 'm-tabs-' + instanceId + '-' + i,\n        role: 'tab',\n        'aria-selected': ariaSelected,\n        className: cls,\n        onClick: function onClick() {\n          return _this.onPress(i);\n        }\n      }, renderTab ? renderTab(t) : t.title);\n    };\n\n    _this.setContentLayout = function (div) {\n      _this.layout = div;\n    };\n\n    _this.getTabSize = function (page, tabLength) {\n      return 100 / Math.min(page, tabLength);\n    };\n\n    _this.state = _extends({}, new StateType(), _this.getTransformByIndex(props));\n    return _this;\n  }\n\n  _createClass(DefaultTabBar, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.activeTab !== nextProps.activeTab || this.props.tabs !== nextProps.tabs || this.props.tabs.length !== nextProps.tabs.length) {\n        this.setState(_extends({}, this.getTransformByIndex(nextProps)));\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          animated = _props.animated,\n          _props$tabs = _props.tabs,\n          tabs = _props$tabs === undefined ? [] : _props$tabs,\n          _props$page2 = _props.page,\n          page = _props$page2 === undefined ? 0 : _props$page2,\n          _props$activeTab = _props.activeTab,\n          activeTab = _props$activeTab === undefined ? 0 : _props$activeTab,\n          tabBarBackgroundColor = _props.tabBarBackgroundColor,\n          tabBarUnderlineStyle = _props.tabBarUnderlineStyle,\n          tabBarPosition = _props.tabBarPosition,\n          renderUnderline = _props.renderUnderline;\n      var _state = this.state,\n          isMoving = _state.isMoving,\n          transform = _state.transform,\n          showNext = _state.showNext,\n          showPrev = _state.showPrev;\n      var isTabBarVertical = this.isTabBarVertical();\n      var needScroll = tabs.length > page;\n      var size = this.getTabSize(page, tabs.length);\n      var Tabs = tabs.map(function (t, i) {\n        return _this2.renderTab(t, i, size, isTabBarVertical);\n      });\n      var cls = prefixCls;\n\n      if (animated && !isMoving) {\n        cls += ' ' + prefixCls + '-animated';\n      }\n\n      var style = {\n        backgroundColor: tabBarBackgroundColor || ''\n      };\n      var transformStyle = needScroll ? _extends({}, getTransformPropValue(transform)) : {};\n\n      var _a = this.onPan,\n          setCurrentOffset = _a.setCurrentOffset,\n          onPan = __rest(_a, [\"setCurrentOffset\"]);\n\n      var underlineProps = {\n        style: _extends({}, isTabBarVertical ? {\n          height: size + '%'\n        } : {\n          width: size + '%'\n        }, isTabBarVertical ? {\n          top: size * activeTab + '%'\n        } : {\n          left: size * activeTab + '%'\n        }, tabBarUnderlineStyle),\n        className: prefixCls + '-underline'\n      };\n      return React.createElement('div', {\n        className: cls + ' ' + prefixCls + '-' + tabBarPosition,\n        style: style\n      }, showPrev && React.createElement('div', {\n        className: prefixCls + '-prevpage'\n      }), React.createElement(Gesture, _extends({}, onPan, {\n        direction: isTabBarVertical ? 'vertical' : 'horizontal'\n      }), React.createElement('div', {\n        role: 'tablist',\n        className: prefixCls + '-content',\n        style: transformStyle,\n        ref: this.setContentLayout\n      }, Tabs, renderUnderline ? renderUnderline(underlineProps) : React.createElement('div', underlineProps))), showNext && React.createElement('div', {\n        className: prefixCls + '-nextpage'\n      }));\n    }\n  }]);\n\n  return DefaultTabBar;\n}(React.PureComponent);\nDefaultTabBar.defaultProps = {\n  prefixCls: 'rmc-tabs-tab-bar',\n  animated: true,\n  tabs: [],\n  goToTab: function goToTab() {},\n  activeTab: 0,\n  page: 5,\n  tabBarUnderlineStyle: {},\n  tabBarBackgroundColor: '#fff',\n  tabBarActiveTextColor: '',\n  tabBarInactiveTextColor: '',\n  tabBarTextStyle: {}\n};","map":{"version":3,"sources":["/Users/gaomengzhou/Projects/kedou/node_modules/rmc-tabs/es/DefaultTabBar.js"],"names":["_extends","_createClass","_possibleConstructorReturn","_inherits","_classCallCheck","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","React","Gesture","setPxStyle","getTransformPropValue","getPxStyle","StateType","transform","isMoving","showPrev","showNext","DefaultTabBar","_React$PureComponent","props","_this","__proto__","getPrototypeOf","onPan","lastOffset","finalOffset","getLastOffset","isVertical","arguments","undefined","isTabBarVertical","offset","replace","layout","clientHeight","clientWidth","onPanStart","setState","onPanMove","status","moveStatus","y","x","canScrollOffset","scrollHeight","scrollWidth","Math","min","max","onPanEnd","setCurrentOffset","getTransformByIndex","activeTab","tabs","_props$page","page","size","getTabSize","center","pos","skipSize","onPress","index","_this$props","goToTab","onTabClick","position","tabBarPosition","renderTab","_this$props2","prefixCls","tabBarTextStyle","tabBarActiveTextColor","tabBarInactiveTextColor","instanceId","textStyle","cls","ariaSelected","color","createElement","key","style","height","width","id","role","className","onClick","title","setContentLayout","div","tabLength","state","value","componentWillReceiveProps","nextProps","render","_this2","_props","animated","_props$tabs","_props$page2","_props$activeTab","tabBarBackgroundColor","tabBarUnderlineStyle","renderUnderline","_state","needScroll","Tabs","map","backgroundColor","transformStyle","_a","underlineProps","top","left","direction","ref","PureComponent","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\nimport React from 'react';\nimport Gesture from 'rc-gesture';\nimport { setPxStyle, getTransformPropValue, getPxStyle } from './util';\nexport var StateType = function StateType() {\n    _classCallCheck(this, StateType);\n\n    this.transform = '';\n    this.isMoving = false;\n    this.showPrev = false;\n    this.showNext = false;\n};\nexport var DefaultTabBar = function (_React$PureComponent) {\n    _inherits(DefaultTabBar, _React$PureComponent);\n\n    function DefaultTabBar(props) {\n        _classCallCheck(this, DefaultTabBar);\n\n        var _this = _possibleConstructorReturn(this, (DefaultTabBar.__proto__ || Object.getPrototypeOf(DefaultTabBar)).call(this, props));\n\n        _this.onPan = function () {\n            var lastOffset = 0;\n            var finalOffset = 0;\n            var getLastOffset = function getLastOffset() {\n                var isVertical = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.isTabBarVertical();\n\n                var offset = +('' + lastOffset).replace('%', '');\n                if (('' + lastOffset).indexOf('%') >= 0) {\n                    offset /= 100;\n                    offset *= isVertical ? _this.layout.clientHeight : _this.layout.clientWidth;\n                }\n                return offset;\n            };\n            return {\n                onPanStart: function onPanStart() {\n                    _this.setState({ isMoving: true });\n                },\n                onPanMove: function onPanMove(status) {\n                    if (!status.moveStatus || !_this.layout) return;\n                    var isVertical = _this.isTabBarVertical();\n                    var offset = getLastOffset() + (isVertical ? status.moveStatus.y : status.moveStatus.x);\n                    var canScrollOffset = isVertical ? -_this.layout.scrollHeight + _this.layout.clientHeight : -_this.layout.scrollWidth + _this.layout.clientWidth;\n                    offset = Math.min(offset, 0);\n                    offset = Math.max(offset, canScrollOffset);\n                    setPxStyle(_this.layout, offset, 'px', isVertical);\n                    finalOffset = offset;\n                    _this.setState({\n                        showPrev: -offset > 0,\n                        showNext: offset > canScrollOffset\n                    });\n                },\n                onPanEnd: function onPanEnd() {\n                    var isVertical = _this.isTabBarVertical();\n                    lastOffset = finalOffset;\n                    _this.setState({\n                        isMoving: false,\n                        transform: getPxStyle(finalOffset, 'px', isVertical)\n                    });\n                },\n                setCurrentOffset: function setCurrentOffset(offset) {\n                    return lastOffset = offset;\n                }\n            };\n        }();\n        _this.getTransformByIndex = function (props) {\n            var activeTab = props.activeTab,\n                tabs = props.tabs,\n                _props$page = props.page,\n                page = _props$page === undefined ? 0 : _props$page;\n\n            var isVertical = _this.isTabBarVertical();\n            var size = _this.getTabSize(page, tabs.length);\n            var center = page / 2;\n            var pos = Math.min(activeTab, tabs.length - center - .5);\n            var skipSize = Math.min(-(pos - center + .5) * size, 0);\n            _this.onPan.setCurrentOffset(skipSize + '%');\n            return {\n                transform: getPxStyle(skipSize, '%', isVertical),\n                showPrev: activeTab > center - .5 && tabs.length > page,\n                showNext: activeTab < tabs.length - center - .5 && tabs.length > page\n            };\n        };\n        _this.onPress = function (index) {\n            var _this$props = _this.props,\n                goToTab = _this$props.goToTab,\n                onTabClick = _this$props.onTabClick,\n                tabs = _this$props.tabs;\n\n            onTabClick && onTabClick(tabs[index], index);\n            goToTab && goToTab(index);\n        };\n        _this.isTabBarVertical = function () {\n            var position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.tabBarPosition;\n            return position === 'left' || position === 'right';\n        };\n        _this.renderTab = function (t, i, size, isTabBarVertical) {\n            var _this$props2 = _this.props,\n                prefixCls = _this$props2.prefixCls,\n                renderTab = _this$props2.renderTab,\n                activeTab = _this$props2.activeTab,\n                tabBarTextStyle = _this$props2.tabBarTextStyle,\n                tabBarActiveTextColor = _this$props2.tabBarActiveTextColor,\n                tabBarInactiveTextColor = _this$props2.tabBarInactiveTextColor,\n                instanceId = _this$props2.instanceId;\n\n            var textStyle = _extends({}, tabBarTextStyle);\n            var cls = prefixCls + '-tab';\n            var ariaSelected = false;\n            if (activeTab === i) {\n                cls += ' ' + cls + '-active';\n                ariaSelected = true;\n                if (tabBarActiveTextColor) {\n                    textStyle.color = tabBarActiveTextColor;\n                }\n            } else if (tabBarInactiveTextColor) {\n                textStyle.color = tabBarInactiveTextColor;\n            }\n            return React.createElement(\n                'div',\n                { key: 't_' + i, style: _extends({}, textStyle, isTabBarVertical ? { height: size + '%' } : { width: size + '%' }), id: 'm-tabs-' + instanceId + '-' + i, role: 'tab', 'aria-selected': ariaSelected, className: cls, onClick: function onClick() {\n                        return _this.onPress(i);\n                    } },\n                renderTab ? renderTab(t) : t.title\n            );\n        };\n        _this.setContentLayout = function (div) {\n            _this.layout = div;\n        };\n        _this.getTabSize = function (page, tabLength) {\n            return 100 / Math.min(page, tabLength);\n        };\n        _this.state = _extends({}, new StateType(), _this.getTransformByIndex(props));\n        return _this;\n    }\n\n    _createClass(DefaultTabBar, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.activeTab !== nextProps.activeTab || this.props.tabs !== nextProps.tabs || this.props.tabs.length !== nextProps.tabs.length) {\n                this.setState(_extends({}, this.getTransformByIndex(nextProps)));\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                animated = _props.animated,\n                _props$tabs = _props.tabs,\n                tabs = _props$tabs === undefined ? [] : _props$tabs,\n                _props$page2 = _props.page,\n                page = _props$page2 === undefined ? 0 : _props$page2,\n                _props$activeTab = _props.activeTab,\n                activeTab = _props$activeTab === undefined ? 0 : _props$activeTab,\n                tabBarBackgroundColor = _props.tabBarBackgroundColor,\n                tabBarUnderlineStyle = _props.tabBarUnderlineStyle,\n                tabBarPosition = _props.tabBarPosition,\n                renderUnderline = _props.renderUnderline;\n            var _state = this.state,\n                isMoving = _state.isMoving,\n                transform = _state.transform,\n                showNext = _state.showNext,\n                showPrev = _state.showPrev;\n\n            var isTabBarVertical = this.isTabBarVertical();\n            var needScroll = tabs.length > page;\n            var size = this.getTabSize(page, tabs.length);\n            var Tabs = tabs.map(function (t, i) {\n                return _this2.renderTab(t, i, size, isTabBarVertical);\n            });\n            var cls = prefixCls;\n            if (animated && !isMoving) {\n                cls += ' ' + prefixCls + '-animated';\n            }\n            var style = {\n                backgroundColor: tabBarBackgroundColor || ''\n            };\n            var transformStyle = needScroll ? _extends({}, getTransformPropValue(transform)) : {};\n            var _a = this.onPan,\n                setCurrentOffset = _a.setCurrentOffset,\n                onPan = __rest(_a, [\"setCurrentOffset\"]);\n            var underlineProps = {\n                style: _extends({}, isTabBarVertical ? { height: size + '%' } : { width: size + '%' }, isTabBarVertical ? { top: size * activeTab + '%' } : { left: size * activeTab + '%' }, tabBarUnderlineStyle),\n                className: prefixCls + '-underline'\n            };\n            return React.createElement(\n                'div',\n                { className: cls + ' ' + prefixCls + '-' + tabBarPosition, style: style },\n                showPrev && React.createElement('div', { className: prefixCls + '-prevpage' }),\n                React.createElement(\n                    Gesture,\n                    _extends({}, onPan, { direction: isTabBarVertical ? 'vertical' : 'horizontal' }),\n                    React.createElement(\n                        'div',\n                        { role: 'tablist', className: prefixCls + '-content', style: transformStyle, ref: this.setContentLayout },\n                        Tabs,\n                        renderUnderline ? renderUnderline(underlineProps) : React.createElement('div', underlineProps)\n                    )\n                ),\n                showNext && React.createElement('div', { className: prefixCls + '-nextpage' })\n            );\n        }\n    }]);\n\n    return DefaultTabBar;\n}(React.PureComponent);\nDefaultTabBar.defaultProps = {\n    prefixCls: 'rmc-tabs-tab-bar',\n    animated: true,\n    tabs: [],\n    goToTab: function goToTab() {},\n    activeTab: 0,\n    page: 5,\n    tabBarUnderlineStyle: {},\n    tabBarBackgroundColor: '#fff',\n    tabBarActiveTextColor: '',\n    tabBarInactiveTextColor: '',\n    tabBarTextStyle: {}\n};"]},"metadata":{},"sourceType":"module"}