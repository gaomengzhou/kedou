{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = alert;\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require('react-dom');\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _closest = require('../_util/closest');\n\nvar _closest2 = _interopRequireDefault(_closest);\n\nvar _Modal = require('./Modal');\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction alert(title, message) {\n  var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [{\n    text: '确定'\n  }];\n  var platform = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'ios';\n  var closed = false;\n\n  if (!title && !message) {\n    // console.log('Must specify either an alert title, or message, or both');\n    return {\n      close: function close() {}\n    };\n  }\n\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n\n  function close() {\n    ReactDOM.unmountComponentAtNode(div);\n\n    if (div && div.parentNode) {\n      div.parentNode.removeChild(div);\n    }\n  }\n\n  var footer = actions.map(function (button) {\n    // tslint:disable-next-line:only-arrow-functions\n    var orginPress = button.onPress || function () {};\n\n    button.onPress = function () {\n      if (closed) {\n        return;\n      }\n\n      var res = orginPress();\n\n      if (res && res.then) {\n        res.then(function () {\n          closed = true;\n          close();\n        })['catch'](function () {});\n      } else {\n        closed = true;\n        close();\n      }\n    };\n\n    return button;\n  });\n  var prefixCls = 'am-modal';\n\n  function onWrapTouchStart(e) {\n    if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\n      return;\n    }\n\n    var pNode = (0, _closest2['default'])(e.target, '.' + prefixCls + '-footer');\n\n    if (!pNode) {\n      e.preventDefault();\n    }\n  }\n\n  ReactDOM.render(React.createElement(_Modal2['default'], {\n    visible: true,\n    transparent: true,\n    title: title,\n    transitionName: 'am-zoom',\n    closable: false,\n    maskClosable: false,\n    footer: footer,\n    maskTransitionName: 'am-fade',\n    platform: platform,\n    wrapProps: {\n      onTouchStart: onWrapTouchStart\n    }\n  }, React.createElement('div', {\n    className: prefixCls + '-alert-content'\n  }, message)), div);\n  return {\n    close: close\n  };\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/gaomengzhou/Projects/kedou/node_modules/antd-mobile/lib/modal/alert.js"],"names":["Object","defineProperty","exports","value","alert","_react","require","React","_interopRequireWildcard","_reactDom","ReactDOM","_closest","_closest2","_interopRequireDefault","_Modal","_Modal2","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","title","message","actions","arguments","length","undefined","text","platform","closed","close","div","document","createElement","body","appendChild","unmountComponentAtNode","parentNode","removeChild","footer","map","button","orginPress","onPress","res","then","prefixCls","onWrapTouchStart","e","test","navigator","userAgent","pNode","target","preventDefault","render","visible","transparent","transitionName","closable","maskClosable","maskTransitionName","wrapProps","onTouchStart","className","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports['default'] = alert;\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require('react-dom');\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _closest = require('../_util/closest');\n\nvar _closest2 = _interopRequireDefault(_closest);\n\nvar _Modal = require('./Modal');\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction alert(title, message) {\n    var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [{ text: '确定' }];\n    var platform = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'ios';\n\n    var closed = false;\n    if (!title && !message) {\n        // console.log('Must specify either an alert title, or message, or both');\n        return {\n            close: function close() {}\n        };\n    }\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n    function close() {\n        ReactDOM.unmountComponentAtNode(div);\n        if (div && div.parentNode) {\n            div.parentNode.removeChild(div);\n        }\n    }\n    var footer = actions.map(function (button) {\n        // tslint:disable-next-line:only-arrow-functions\n        var orginPress = button.onPress || function () {};\n        button.onPress = function () {\n            if (closed) {\n                return;\n            }\n            var res = orginPress();\n            if (res && res.then) {\n                res.then(function () {\n                    closed = true;\n                    close();\n                })['catch'](function () {});\n            } else {\n                closed = true;\n                close();\n            }\n        };\n        return button;\n    });\n    var prefixCls = 'am-modal';\n    function onWrapTouchStart(e) {\n        if (!/iPhone|iPod|iPad/i.test(navigator.userAgent)) {\n            return;\n        }\n        var pNode = (0, _closest2['default'])(e.target, '.' + prefixCls + '-footer');\n        if (!pNode) {\n            e.preventDefault();\n        }\n    }\n    ReactDOM.render(React.createElement(\n        _Modal2['default'],\n        { visible: true, transparent: true, title: title, transitionName: 'am-zoom', closable: false, maskClosable: false, footer: footer, maskTransitionName: 'am-fade', platform: platform, wrapProps: { onTouchStart: onWrapTouchStart } },\n        React.createElement(\n            'div',\n            { className: prefixCls + '-alert-content' },\n            message\n        )\n    ), div);\n    return {\n        close: close\n    };\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}